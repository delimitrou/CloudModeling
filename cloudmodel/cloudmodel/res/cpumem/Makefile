SEQTEST=seq_read_write
RANDTEST=rand_read
ASM=$(SEQTEST).s $(RANDTEST).s
RRLAT=rr_lat
PRINTX=printx
SRW=srw
SRWSTRIDE=srwstride
ARRAY=array
CFLAGS=-O3 -D_GNU_SOURCE -D__STDC_FORMAT_MACROS
LDLIBS=-lm

all: $(RANDTEST) $(PRINTX) $(RRLAT) $(ASM) $(SRW) $(SRWSTRIDE) $(ARRAY)

$(SEQTEST).s: $(SEQTEST).c
	gcc -S -o $(SEQTEST).s $(CFLAGS) $(SEQTEST).c

$(RANDTEST).s: $(RANDTEST).c
	gcc -S -o $(RANDTEST).s $(CFLAGS) $(RANDTEST).c

$(SRWSTRIDE): $(SRWSTRIDE).s

$(SRW): $(SRW).s

clean:
	rm -rf $(SEQTEST) $(RANDTEST) $(PRINTX) $(RRLAT) $(ASM) $(SRW) $(SRWSTRIDE) $(ARRAY)
